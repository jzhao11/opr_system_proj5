Name  : Jianfei Zhao
Date  : 07/25/2018
Class : CSC415-01

Compile Instructions:
make
By using the original Makefile (with gcc command included) in the repo, the instruction "make" (under the repo csc415-p5-jzhao11/part1) can build the program and generate the executable file "threadracer".


Run Instructions:
./threadracer
This instruction is also executed under csc415-p5-jzhao11/part1, which runs the executable file "threadracer".


Project Description:
On the basis of homework4, this program simply adds several lines for synchronization, without removing any nanosleep() or modifying any other code. Specifically, this program uses mutex lock to implement synchronization.

The mutex lock will be acquired and released in each thread function (adder and subtractor). In both adder and subtractor functions, there are critical sections, referring to those code lines that are trying to access the shared global variable (g_variable). To eliminate race conditions, each process should acquire mutex lock before it enters critical section and release the lock after it exits critical section. In other words, each critical section needs to be surrounded by pthread_mutex_lock and pthread_mutex_unlock to guarantee synchronization. In this way, only 1 thread can access g_variable and therefore its final value is always 0, proving that the race conditions have been removed.


Output Sample:
Current Value written to Global Variable by thread:	0 is	1
Current Value written to Global Variable by thread:	0 is	2
Current Value written to Global Variable by thread:	1 is	1
Current Value written to Global Variable by thread:	2 is	2
Current Value written to Global Variable by thread:	0 is	3
Current Value written to Global Variable by thread:	1 is	2
Current Value written to Global Variable by thread:	2 is	3
Current Value written to Global Variable by thread:	4 is	4
Current Value written to Global Variable by thread:	0 is	4
Current Value written to Global Variable by thread:	3 is	3
Current Value written to Global Variable by thread:	4 is	5
Current Value written to Global Variable by thread:	6 is	6
Current Value written to Global Variable by thread:	2 is	6
Current Value written to Global Variable by thread:	1 is	5
Current Value written to Global Variable by thread:	5 is	5
Current Value written to Global Variable by thread:	6 is	6
Current Value written to Global Variable by thread:	8 is	7
Current Value written to Global Variable by thread:	0 is	8
Current Value written to Global Variable by thread:	3 is	7
Current Value written to Global Variable by thread:	4 is	8
Current Value written to Global Variable by thread:	1 is	5
Current Value written to Global Variable by thread:	2 is	6
Current Value written to Global Variable by thread:	7 is	6
Current Value written to Global Variable by thread:	9 is	7
Current Value written to Global Variable by thread:	4 is	7
Current Value written to Global Variable by thread:	6 is	8
Current Value written to Global Variable by thread:	8 is	9
Current Value written to Global Variable by thread:	0 is	10
Current Value written to Global Variable by thread:	3 is	9
Current Value written to Global Variable by thread:	1 is	7
Current Value written to Global Variable by thread:	2 is	8
Current Value written to Global Variable by thread:	5 is	8
Current Value written to Global Variable by thread:	0 is	9
Current Value written to Global Variable by thread:	4 is	8
Current Value written to Global Variable by thread:	5 is	8
Current Value written to Global Variable by thread:	9 is	7
Current Value written to Global Variable by thread:	6 is	9
Current Value written to Global Variable by thread:	8 is	10
Current Value written to Global Variable by thread:	3 is	7
Current Value written to Global Variable by thread:	2 is	8
Current Value written to Global Variable by thread:	1 is	8
Current Value written to Global Variable by thread:	7 is	9
Current Value written to Global Variable by thread:	0 is	9
Current Value written to Global Variable by thread:	4 is	10
Current Value written to Global Variable by thread:	0 is	11
Current Value written to Global Variable by thread:	4 is	12
Current Value written to Global Variable by thread:	0 is	13
Current Value written to Global Variable by thread:	4 is	14
Current Value written to Global Variable by thread:	2 is	15
Current Value written to Global Variable by thread:	3 is	14
Current Value written to Global Variable by thread:	1 is	13
Current Value written to Global Variable by thread:	4 is	14
Current Value written to Global Variable by thread:	5 is	13
Current Value written to Global Variable by thread:	6 is	13
Current Value written to Global Variable by thread:	9 is	12
Current Value written to Global Variable by thread:	8 is	14
Current Value written to Global Variable by thread:	0 is	15
Current Value written to Global Variable by thread:	2 is	15
Current Value written to Global Variable by thread:	7 is	14
Current Value written to Global Variable by thread:	1 is	14
Current Value written to Global Variable by thread:	3 is	13
Current Value written to Global Variable by thread:	4 is	14
Current Value written to Global Variable by thread:	5 is	13
Current Value written to Global Variable by thread:	6 is	14
Current Value written to Global Variable by thread:	8 is	14
Current Value written to Global Variable by thread:	9 is	13
Current Value written to Global Variable by thread:	0 is	15
Current Value written to Global Variable by thread:	2 is	16
Current Value written to Global Variable by thread:	0 is	17
Current Value written to Global Variable by thread:	3 is	16
Current Value written to Global Variable by thread:	1 is	15
Current Value written to Global Variable by thread:	4 is	16
Current Value written to Global Variable by thread:	0 is	17
Current Value written to Global Variable by thread:	6 is	18
Current Value written to Global Variable by thread:	8 is	19
Current Value written to Global Variable by thread:	2 is	18
Current Value written to Global Variable by thread:	7 is	17
Current Value written to Global Variable by thread:	9 is	18
Current Value written to Global Variable by thread:	1 is	16
Current Value written to Global Variable by thread:	3 is	15
Current Value written to Global Variable by thread:	4 is	16
Current Value written to Global Variable by thread:	5 is	17
Current Value written to Global Variable by thread:	0 is	17
Current Value written to Global Variable by thread:	5 is	16
Current Value written to Global Variable by thread:	6 is	17
Current Value written to Global Variable by thread:	8 is	18
Current Value written to Global Variable by thread:	2 is	19
Current Value written to Global Variable by thread:	7 is	18
Current Value written to Global Variable by thread:	8 is	19
Current Value written to Global Variable by thread:	1 is	17
Current Value written to Global Variable by thread:	3 is	18
Current Value written to Global Variable by thread:	4 is	18
Current Value written to Global Variable by thread:	0 is	19
Current Value written to Global Variable by thread:	5 is	18
Current Value written to Global Variable by thread:	6 is	19
Current Value written to Global Variable by thread:	2 is	19
Current Value written to Global Variable by thread:	9 is	18
Current Value written to Global Variable by thread:	5 is	18
Current Value written to Global Variable by thread:	6 is	19
Current Value written to Global Variable by thread:	8 is	20
Current Value written to Global Variable by thread:	3 is	18
Current Value written to Global Variable by thread:	4 is	19
Current Value written to Global Variable by thread:	1 is	19
Current Value written to Global Variable by thread:	0 is	20
Current Value written to Global Variable by thread:	2 is	20
Current Value written to Global Variable by thread:	7 is	19
Current Value written to Global Variable by thread:	0 is	21
Current Value written to Global Variable by thread:	5 is	20
Current Value written to Global Variable by thread:	6 is	21
Current Value written to Global Variable by thread:	8 is	22
Current Value written to Global Variable by thread:	4 is	23
Current Value written to Global Variable by thread:	1 is	22
Current Value written to Global Variable by thread:	3 is	21
Current Value written to Global Variable by thread:	8 is	22
Current Value written to Global Variable by thread:	2 is	23
Current Value written to Global Variable by thread:	0 is	23
Current Value written to Global Variable by thread:	7 is	22
Current Value written to Global Variable by thread:	6 is	24
Current Value written to Global Variable by thread:	4 is	22
Current Value written to Global Variable by thread:	5 is	23
Current Value written to Global Variable by thread:	7 is	22
Current Value written to Global Variable by thread:	9 is	21
Current Value written to Global Variable by thread:	4 is	23
Current Value written to Global Variable by thread:	1 is	22
Current Value written to Global Variable by thread:	5 is	21
Current Value written to Global Variable by thread:	7 is	20
Current Value written to Global Variable by thread:	8 is	21
Current Value written to Global Variable by thread:	2 is	22
Current Value written to Global Variable by thread:	0 is	23
Current Value written to Global Variable by thread:	3 is	22
Current Value written to Global Variable by thread:	6 is	23
Current Value written to Global Variable by thread:	4 is	23
Current Value written to Global Variable by thread:	9 is	22
Current Value written to Global Variable by thread:	1 is	22
Current Value written to Global Variable by thread:	5 is	21
Current Value written to Global Variable by thread:	6 is	22
Current Value written to Global Variable by thread:	8 is	23
Current Value written to Global Variable by thread:	2 is	24
Current Value written to Global Variable by thread:	0 is	25
Current Value written to Global Variable by thread:	3 is	24
Current Value written to Global Variable by thread:	2 is	25
Current Value written to Global Variable by thread:	4 is	26
Current Value written to Global Variable by thread:	2 is	27
Current Value written to Global Variable by thread:	1 is	26
Current Value written to Global Variable by thread:	5 is	25
Current Value written to Global Variable by thread:	6 is	26
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	0 is	27
Current Value written to Global Variable by thread:	7 is	26
Current Value written to Global Variable by thread:	3 is	26
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	4 is	28
Current Value written to Global Variable by thread:	2 is	29
Current Value written to Global Variable by thread:	1 is	28
Current Value written to Global Variable by thread:	5 is	27
Current Value written to Global Variable by thread:	6 is	28
Current Value written to Global Variable by thread:	0 is	28
Current Value written to Global Variable by thread:	9 is	27
Current Value written to Global Variable by thread:	3 is	26
Current Value written to Global Variable by thread:	7 is	27
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	4 is	28
Current Value written to Global Variable by thread:	3 is	27
Current Value written to Global Variable by thread:	2 is	28
Current Value written to Global Variable by thread:	1 is	27
Current Value written to Global Variable by thread:	5 is	26
Current Value written to Global Variable by thread:	6 is	27
Current Value written to Global Variable by thread:	0 is	28
Current Value written to Global Variable by thread:	7 is	26
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	9 is	27
Current Value written to Global Variable by thread:	4 is	28
Current Value written to Global Variable by thread:	3 is	27
Current Value written to Global Variable by thread:	2 is	28
Current Value written to Global Variable by thread:	1 is	27
Current Value written to Global Variable by thread:	4 is	28
Current Value written to Global Variable by thread:	2 is	29
Current Value written to Global Variable by thread:	4 is	30
Current Value written to Global Variable by thread:	2 is	31
Current Value written to Global Variable by thread:	4 is	32
Current Value written to Global Variable by thread:	2 is	33
Current Value written to Global Variable by thread:	3 is	31
Current Value written to Global Variable by thread:	5 is	32
Current Value written to Global Variable by thread:	6 is	32
Current Value written to Global Variable by thread:	1 is	31
Current Value written to Global Variable by thread:	0 is	32
Current Value written to Global Variable by thread:	7 is	31
Current Value written to Global Variable by thread:	8 is	32
Current Value written to Global Variable by thread:	2 is	32
Current Value written to Global Variable by thread:	9 is	31
Current Value written to Global Variable by thread:	3 is	31
Current Value written to Global Variable by thread:	5 is	30
Current Value written to Global Variable by thread:	6 is	31
Current Value written to Global Variable by thread:	1 is	30
Current Value written to Global Variable by thread:	7 is	29
Current Value written to Global Variable by thread:	8 is	30
Current Value written to Global Variable by thread:	6 is	29
Current Value written to Global Variable by thread:	5 is	28
Current Value written to Global Variable by thread:	9 is	29
Current Value written to Global Variable by thread:	3 is	28
Current Value written to Global Variable by thread:	1 is	27
Current Value written to Global Variable by thread:	7 is	26
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	5 is	26
Current Value written to Global Variable by thread:	6 is	27
Current Value written to Global Variable by thread:	7 is	26
Current Value written to Global Variable by thread:	8 is	27
Current Value written to Global Variable by thread:	3 is	25
Current Value written to Global Variable by thread:	6 is	24
Current Value written to Global Variable by thread:	5 is	23
Current Value written to Global Variable by thread:	1 is	26
Current Value written to Global Variable by thread:	9 is	24
Current Value written to Global Variable by thread:	7 is	23
Current Value written to Global Variable by thread:	8 is	24
Current Value written to Global Variable by thread:	6 is	24
Current Value written to Global Variable by thread:	5 is	23
Current Value written to Global Variable by thread:	1 is	23
Current Value written to Global Variable by thread:	3 is	22
Current Value written to Global Variable by thread:	7 is	21
Current Value written to Global Variable by thread:	8 is	22
Current Value written to Global Variable by thread:	6 is	22
Current Value written to Global Variable by thread:	9 is	21
Current Value written to Global Variable by thread:	3 is	19
Current Value written to Global Variable by thread:	5 is	21
Current Value written to Global Variable by thread:	1 is	20
Current Value written to Global Variable by thread:	7 is	18
Current Value written to Global Variable by thread:	8 is	19
Current Value written to Global Variable by thread:	6 is	20
Current Value written to Global Variable by thread:	3 is	19
Current Value written to Global Variable by thread:	7 is	18
Current Value written to Global Variable by thread:	8 is	19
Current Value written to Global Variable by thread:	5 is	18
Current Value written to Global Variable by thread:	9 is	17
Current Value written to Global Variable by thread:	3 is	16
Current Value written to Global Variable by thread:	7 is	15
Current Value written to Global Variable by thread:	5 is	14
Current Value written to Global Variable by thread:	9 is	13
Current Value written to Global Variable by thread:	7 is	12
Current Value written to Global Variable by thread:	9 is	11
Current Value written to Global Variable by thread:	7 is	10
Current Value written to Global Variable by thread:	9 is	9
Current Value written to Global Variable by thread:	7 is	8
Current Value written to Global Variable by thread:	9 is	7
Current Value written to Global Variable by thread:	7 is	6
Current Value written to Global Variable by thread:	9 is	5
Current Value written to Global Variable by thread:	9 is	4
Current Value written to Global Variable by thread:	9 is	3
Current Value written to Global Variable by thread:	9 is	2
Current Value written to Global Variable by thread:	9 is	1
Current Value written to Global Variable by thread:	9 is	0
Final Value of Shared Variable:	0
